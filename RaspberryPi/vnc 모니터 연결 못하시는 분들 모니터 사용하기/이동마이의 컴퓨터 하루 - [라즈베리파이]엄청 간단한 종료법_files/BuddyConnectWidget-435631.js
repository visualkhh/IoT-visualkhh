var BuddyConnect=$Class({_elBottomBox:null,_elSubView:null,_elTabArea:null,_oList:null,_elContent:null,_htVisbleEl:{listArea:null,byMe:null,toMe:null},_sSelectedGroupId:"",sLoginId:"",sBlogId:"",sListType:"",sAuthCode:"",sWidgetSeq:"",sBlogUserNo:"",sBlogNo:"",bIsAritcleWidget:false,sTomeListType:"",oTidOverFade:null,oTidOutFade:null,sSectionDomain:"",_aTabClass:["tab1on","tab2on"],_MSG:{NEWARTICLE:"새글보기",NEWARTICLE_MORE:"새글 더 보기",CLOSEVISIBLEBUDDY:"비공개 하시겠습니까?",NOBODY:{GROUP:{ARTICLE:"선택하신 그룹에 등록된 <br> 이웃 새글이 없습니다.",BUDDY:"선택하신 그룹에 등록된 <br> 이웃이 없습니다."}}},htListType:{L:"basic",T:"thumb",D:"detail",P:"article"},$init:function(b){var a=b.elWidget;this.sLoginId=b.sLoginId;this.sBlogId=b.sBlogId;this.sAuthCode=b.sAuthCode;this.sWidgetSeq=b.sWidgetSeq;this.sBlogNo=b.sBlogNo;this.sBlogUserNo=b.sBlogUserNo;this.bIsAritcleWidget=b.bIsAritcleWidget;this.sTomeListType=this.bIsAritcleWidget?this.htListType.D:this.htListType[b.sWidgetType];this.sSectionDomain=b.sSectionDomain;this._elContent=b.elContent;this._elTabArea=b.elTabArea;this._elSubView=$$.getSingle("div.sub_view",this._elContent);this._elBottomBox=$$.getSingle("div.bottom_box",a);this.setListType(this.htListType[b.sWidgetType]);this._initVisibleEl();this._oList=new BuddyConnect.List(this);this._setEvt()},getListType:function(a){return this.htListType[a]},getIsAritcleWidget:function(){return this.bIsAritcleWidget},getSectionDomain:function(){return this.sSectionDomain},setListType:function(a){this.sListType=a;if(this._htVisbleEl.listArea instanceof $Element){this._htVisbleEl.listArea.hide()}this._htVisbleEl.listArea=$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sListType],this._elContent))},setAsyncURL:function(b){if(typeof b!="undefined"){for(var a in BuddyConnect.METADATA){BuddyConnect.METADATA[a]=b[a]}}},getSubView:function(){return this._elSubView},getListArea:function(){return this._htVisbleEl.listArea},_initVisibleEl:function(){this._htVisbleEl={listArea:null,byMe:$Element($$.getSingle(BuddyConnect.htVisibleElement.common["byMe"],this._elContent)),toMe:$Element($$.getSingle(BuddyConnect.htVisibleElement.common["toMe"],this._elContent)),noBody:{byMe:$Element($("noBody_byMe")),toMe:$Element($("noBody_toMe")),article:$Element($("noBody_article")),group:$Element($("noBody_group"))}}},_setEvt:function(){$Fn(this._onClickClickCr,this).attach(document,"click");$Fn(this._onClickTab,this).attach(this._elTabArea,"click");$Fn(this._onClickContent,this).attach(this._elContent,"click")},_onClickTab:function(f){f.stopDefault();var d=f.element;if(d.nodeType!=1||d.tagName.toLowerCase()!="li"){d=d.parentNode}var a=d.className;var b=$Element(d.parentNode);if((a=="col1"&&b.hasClass("tab1on"))||(a=="col2"&&b.hasClass("tab2on"))){return false}else{this.setPageNo(1)}switch(a){case"col1":this._activeTab("first");this._listContent(this._getAsyncListURL(this._getPageNo()));break;case"col2":this._activeTab("second");this._listContent(this._getAsyncListURL(this._getPageNo()));break;default:break}this._hideBuddyGroup();return false},_displayList:function(){this._hideNoBody();if(this.isFirstTab()){this._displayByMeList()}else{this._displayToMeList()}$Element(this.getSubView()).show()},_hideNoBody:function(){this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].hide();this._htVisbleEl.noBody["article"].hide();this._htVisbleEl.noBody["group"].hide()},_displayNoBodyList:function(f){var e=this.isFirstTab();var j=false;this._htVisbleEl.byMe.hide();this._htVisbleEl.toMe.hide();this._htVisbleEl.listArea.hide();this._htVisbleEl.noBody["group"].hide();$Element(this.getSubView()).hide();if(this.bIsAritcleWidget){this._hideArticleList()}if(f=="article"){if(this._sSelectedGroupId!=null&&this._sSelectedGroupId!=""){this._htVisbleEl.noBody["group"].show();j=parseInt($$.getSingle(" div.sub_select  p.amount  span.co_num",this._elContent).innerHTML,10)>0;if(j){this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["ARTICLE"])}else{this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["BUDDY"])}this._htVisbleEl.byMe.show();this._htVisbleEl.noBody["article"].hide()}else{this._htVisbleEl.noBody["article"].show();$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sTomeListType],this._elContent)).hide();this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].hide()}}else{this._htVisbleEl.noBody["article"].hide();if(e){if(this._sSelectedGroupId!=null&&this._sSelectedGroupId!=""){this._htVisbleEl.noBody["group"].show();this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["BUDDY"]);this._htVisbleEl.byMe.show()}else{this._htVisbleEl.noBody["byMe"].show();this._htVisbleEl.noBody["toMe"].hide()}}else{this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].show();this._htVisbleEl.toMe.show();var b=$Element($$.getSingle(" div.no_inbuddy_v2",this._htVisbleEl.noBody["toMe"].$value()));var a=$Element($$.getSingle(" div.no_inbuddy",this._htVisbleEl.noBody["toMe"].$value()));j=!$Element($$.getSingle(" div.buddy_cnt > p > span.numset > span",this._elContent)).hasClass("n0");var g=null;if(this.sLoginId==this.sBlogId){b.show();a.hide();g=b.$value()}else{a.show();b.hide();g=a.$value()}var d=$Element($$.getSingle("> ._notHaveBuddy",g));var h=$Element($$.getSingle("> ._notOpenBuddy",g));if(j){h.show();d.hide()}else{h.hide();d.show()}}}},_displayByMeList:function(){if(this.bIsAritcleWidget){$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sTomeListType],this._elContent)).hide()}this._htVisbleEl.toMe.hide();this._htVisbleEl.byMe.show();this._htVisbleEl.listArea.show()},_displayToMeList:function(){if(this.bIsAritcleWidget){this._hideArticleList()}this._htVisbleEl.byMe.hide();this._htVisbleEl.toMe.show();this._htVisbleEl.listArea.show()},_hideArticleList:function(){$Element($$.getSingle(BuddyConnect.htVisibleElement.article,this._elContent)).hide()},_onClickClickCr:function(a){var e,f;var b=a.element;var d=this.getElement(b,"a");if(b.className.indexOf("_clickcr")>-1){e=this.getParam(b.className);f=b}else{if(d&&d.className.indexOf("_clickcr")>-1){e=this.getParam(d.className);f=d}}if(e){clickcr(f,e[0],"",e[1]||"",a.$value())}},_onClickContent:function(f){var b=f.element;var a=b.tagName.toLowerCase();if(a=="img"){b=b.parentNode;a=b.tagName.toLowerCase()}var g=b.className.split(" ");if(a!="input"&&g[g.length-1]=="_returnFalse"){f.stopDefault()}var d=g[0];if(a=="a"){switch(d){case"select_ui":this._toggleBuddyGroup();break;case"next":this._listContent(this._getAsyncListURL(this._getPageNo(d)));clickcr(b,"wbm.page","",this._getPageNo(d),f.$value());break;case"pre":this._listContent(this._getAsyncListURL(this._getPageNo(d)));clickcr(b,"wbm.page","",this._getPageNo(d),f.$value());break;case"_delete":this._deleteBuddy(b);break;default:break}}else{if(a=="li"){this.setPageNo(1);this._onSelectBuddyGroups(b)}}return true},_deleteBuddy:function(b){if(confirm(this._MSG.CLOSEVISIBLEBUDDY)){var a=$("deleteBuddyForm");a.action=this.getSectionDomain()+BuddyConnect.METADATA.URL.DELETEBUDDY+"?blogId="+this.sBlogId;a.blogNo.value=this.sBlogNo;a.buddyBlogNo.value=this.sBlogUserNo;a.widgetSeq.value=this.sWidgetSeq;a.submit()}},_onSelectBuddyGroups:function(b){if(!$$.getSingle("!> ul !> div.buddy_list",b)){return}var a=b.innerHTML;var d=this.getParam(b.className);this._sSelectedGroupId=d[0];var e=function(){var g=$$("> li",$$.getSingle("> ul",$("buddy_list")));for(var h=0,f=g.length;h<f;h++){if(g[h]==b){$Element(g[h]).addClass("selected")}else{$Element(g[h]).removeClass("selected")}}$$.getSingle(" div.sub_select > a.select_ui",this._elContent).innerHTML=a};this._listContent(this._getAsyncListURL(this._getPageNo()),e);this._hideBuddyGroup()},getParam:function(a){if(a){var d=/_param\((.*)\)/;var b=a.match(d);if(b&&b[0]&&b[1]){return b[1].split("|")}}return null},getElement:function(d,b,a){if(typeof a=="undefined"){if(d.tagName.toLowerCase()==b){return d}else{return $$.getSingle("!"+b,d)}}else{if(d.tagName.toLowerCase()==b&&$Element(d).hasClass(a)){return d}else{return $$.getSingle("!"+b+"."+a,d)}}},_getGroupId:function(){return this._sSelectedGroupId},setPageNo:function(a){this._oList.setPageNo(a)},_getPageNo:function(b){var a=this._oList.getCurNo();if(b=="next"){a++}else{if(b=="pre"){a--}}return a},isFirstTab:function(){return $Element(this._elTabArea).hasClass(this._aTabClass[0])},_getAsyncListURL:function(a){var b="";if(this.isFirstTab()){b=BuddyConnect.METADATA.URL.BUDDYLISTBYME}else{b=BuddyConnect.METADATA.URL.BUDDYLISTTOME}return b+"?blogId="+this.sBlogId+"&groupId="+this._getGroupId()+"&currentPage="+a+"&authCode="+this.sAuthCode+"&widgetSeq="+this.sWidgetSeq},_listContent:function(a,b){var d=new $Ajax(a,{onload:$Fn(function(h){var j=h.json();if(j.isSuccess){var e=j.result;var g=this.getListType(e.listType);this.setListType(g);this.upDateBuddyCnt(e.buddyCount);var f=(g=="article")?e.posts:e.buddies;if(f.list.length>0){this._oList.list(f,e.listType);this._displayList()}else{this._displayNoBodyList(g)}this.upDateBuddyGroup(e.buddyGroups);if(b&&typeof b=="function"){b()}}},this).bind()});d.request()},upDateBuddyGroup:function(a){this._sSelectedGroupId=a.selectedGroupId;var d=$$.getSingle(" div.buddy_list > ul",this._elContent);var b=a.list;d.innerHTML=this._getBuddyGroup(b)},_getBuddyGroup:function(b){var e=[];var f=new $Template(BuddyConnect.template.buddyGroup);b.unshift({selected:"null",groupName:"전체 이웃",groupId:"null",openyn:true});for(var d=0,a=b.length;d<a;d++){e.push(f.process({selected:b[d]["groupId"]==this._sSelectedGroupId?"selected":"",groupName:b[d]["groupName"],groupId:b[d]["groupId"],openyn:b[d]["openyn"]==true?"none":"inline"}))}return e.join("")},upDateBuddyCnt:function(a){if(this.isFirstTab()){this._updateToMeBuddyCnt(a)}else{this._updateByMeBuddyCnt(a)}},_showArticleMoreTxt:function(a){a.innerHTML=this._MSG.NEWARTICLE_MORE},_toggleBuddyGroup:function(){var a=$Element($$.getSingle(" div.buddy_list",this._elContent));if(a.visible()){this._hideBuddyGroup()}else{a.show()}},_hideBuddyGroup:function(){$Element($$.getSingle(" div.buddy_list",this._elContent)).hide()},_activeTab:function(e){var d=$Element(this._elTabArea);var b=$Element(this._elContent);var a="tab2";var g=0;var f=1;if(e!="first"){g=1;f=0;b.addClass(a)}else{b.removeClass(a)}d.removeClass(this._aTabClass[f]);d.addClass(this._aTabClass[g])},_updateToMeBuddyCnt:function(b){var a=$$.getSingle(" div.sub_select  p.amount  span.co_num",this._elContent);if(b>=0&&a){a.innerHTML=b}},_updateByMeBuddyCnt:function(g){var b=[];var f=String(g).split("");var d=$$.getSingle(" div.buddy_cnt > p > span.numset",this._elContent);var h=$Template(BuddyConnect.template.buddyCnt.num);for(var e=0,a=f.length;e<a;e++){b.push(h.process({num:f[e]}))}$$.getSingle(" div.buddy_cnt > p > strong",this._elContent).innerHTML=g;d.innerHTML=b.join("")+BuddyConnect.template.buddyCnt.dssc},getTabType:function(){return this.isFirstTab()?"byMe":"toMe"},getLoginId:function(){return this.sLoginId}});BuddyConnect.METADATA={IMGPATH:"http://blogimgs.naver.com/buddyconnect/widget/",THUMBIMGPATH:"http://blogpfthumb.phinf.naver.net",URL:{DELETEBUDDY:"/connect/FollowerVisibilityClose.nhn",BUDDYLISTTOME:"/connect/WidgetAddedMeAsBuddyViewAsync.nhn",BUDDYLISTBYME:"/connect/WidgetViewAsync.nhn"}};BuddyConnect.template={buddyCnt:{num:'<span class="n{=num}"></span>',dssc:'<span class="desc1"><img alt="명이" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif" width="18" height="11"></span><span class="desc2"><img alt="이 블로그를 구독중입니다" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif" width="111" height="11"></span>'},buddyGroup:'<li class="_param({=groupId}) {=selected}">{=groupName} <img width="9" height="11" alt="비공개" style="display:{=openyn}" src="http://blogimgs.naver.com/nblog/admin/buddy/ico_lock.gif"/></li>'};BuddyConnect.htVisibleElement={common:{byMe:"div.sub_select",toMe:"div.buddy_cnt"},basic:"> ul.txt_list",detail:"> ul.thumb_list2",thumb:"> ul.thumb_list",article:"> ul.article_list"};BuddyConnect.List=$Class({_oPaging:null,_upObj:null,$init:function(a){this._upObj=a;this._oPaging=new BuddyConnect.List.Paging(this)},list:function(d,b){this._upObj.getListArea().$value().innerHTML=this._getListHTML(d.list,this._upObj.getListType(b),((d.currentPage-1)*d.countPerPage));var e=Math.floor(d.totalCount/d.countPerPage);var a=d.totalCount%d.countPerPage>0?1:0;e=e+a==0?1:e+a;this._oPaging.goPage(d.currentPage,e)},_getListHTML:function(d,f,j){var b=[];var h=this._getTabType();var g=$Template(BuddyConnect.List.template[f][h]);if(f=="article"){for(var e=0,a=d.length;e<a;e++){b.push(g.process({linkUrl:d[e]["linkUrl"],commentCnt:d[e]["commentCnt"],hasCmt:parseInt(d[e]["commentCnt"],10)>0?"":"none",content:d[e]["content"],lastModified:d[e]["lastModified"],blogName:d[e]["blogName"],title:d[e]["title"],RANK:e+j+1}))}}else{if(f=="thumb"){for(var e=0,a=d.length;e<a;e++){b.push(g.process({buddyURL:d[e]["linkUrl"],buddyImg:d[e]["imgUrl"],hasNewPost:d[e]["hasNewPost"]==true?"":"none",neighborNickName:d[e]["neighborNickName"]!=""?d[e]["neighborNickName"]:d[e]["blogName"],blogId:d[e]["blogId"],blogName:d[e]["blogName"],isMe:d[e]["blogId"]==this._getLoginId()?"":"none",RANK:e+j+1}))}}else{for(var e=0,a=d.length;e<a;e++){b.push(g.process({buddyURL:d[e]["linkUrl"],buddyImg:d[e]["imgUrl"],hasNewPost:d[e]["hasNewPost"]==true?"":"none",neighborNickName:d[e]["neighborNickName"]!=""?d[e]["neighborNickName"]:"",hasNickName:d[e]["neighborNickName"]!=""?"":"none",hasNewPost:d[e]["hasNewPost"]==true?"":"none",blogId:d[e]["blogId"],blogName:d[e]["blogName"],isMe:d[e]["blogId"]==this._getLoginId()?"":"none",nickNameTag:d[e]["neighborNickName"]!=""?"a":"span",RANK:e+j+1}))}}}return b.join("")},_getTabType:function(){return this._upObj.getTabType()},_getLoginId:function(){return this._upObj.getLoginId()},getSubView:function(){return this._upObj.getSubView()},getCurNo:function(){return this._oPaging.getCurNo()},setPageNo:function(a){this._oPaging.setCurNo(a)}});BuddyConnect.List.template={basic:{byMe:'<li><div class="buddy_info"><a style="display:{=hasNickName};" target="_blank" href="{=buddyURL}" class="buddy_name _clickcr _param(wmy.list|{=RANK})" >{=neighborNickName}</a><span style="display:{=hasNickName};" class="bar"> | </span><a class="blog_name _clickcr _param(wmy.list|{=RANK})" target="_blank" href="{=buddyURL}">{=blogName}</a> <img height="11" width="13" class="up" alt="update" src="http://blogimgs.naver.com/buddyconnect/widget/b.gif" style="display:{=hasNewPost};"></div></li>',toMe:'<li><div class="buddy_info"><a class="_delete _returnFalse" style="display:{=isMe};" href="#"><img height="11" width="11" class="del" alt="delete" src="http://blogimgs.naver.com/buddyconnect/widget/b.gif"></a> <a style="display:{=hasNickName};" target="_blank" href="{=buddyURL}" class="buddy_name _clickcr _param(wme.list|{=RANK})" >{=neighborNickName}</a><span style="display:{=hasNickName};" class="bar"> | </span><a class="blog_name _clickcr _param(wme.list|{=RANK})" target="_blank" href="{=buddyURL}">{=blogName}</a> <img height="11" width="13" class="up" alt="update" src="http://blogimgs.naver.com/buddyconnect/widget/b.gif" style="display:{=hasNewPost};"></div></li>'},thumb:{byMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wmy.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=\'http://blogimgs.naver.com/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><img height="11" width="13" class="up" style="display:{=hasNewPost};"alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><a target="_blank" class="buddy_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{=neighborNickName}</a></li>',toMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wme.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=\'http://blogimgs.naver.com/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><a href="#" class="_delete _returnFalse" style="display:{=isMe};"><img class="del" width="11" height="11" title="delete" alt="delete" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></a><img height="11" width="13" class="up" style="display:{=hasNewPost};"alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><a target="_blank" class="buddy_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{=neighborNickName}</a></li>'},detail:{byMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wmy.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=\'http://blogimgs.naver.com/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><img height="11" width="13" class="up" style="display:{=hasNewPost}; alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><div class="buddy_info"><{=nickNameTag}  target="_blank" class="buddy_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{=neighborNickName}</{=nickNameTag}><span style="display:none;" class="bar"> | </span><a target="_blank" class="blog_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{=blogName}</a></div></li>',toMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wme.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=\'http://blogimgs.naver.com/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><a href="#" class="_delete _returnFalse" style="display:{=isMe};"><img class="del" width="11" height="11" title="delete" alt="delete" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></a><img height="11" width="13" class="up" style="display:{=hasNewPost}; alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><div class="buddy_info"><{=nickNameTag} target="_blank" class="buddy_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{=neighborNickName}</{=nickNameTag}><span style="display:none;"  class="bar"> | </span><a target="_blank" class="blog_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{=blogName}</a></div></li>'},article:{byMe:'<li><dl><dt><a target="_blank" class="article_title _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=title}</a> <span style="display:{=hasCmt};" class="comment_cnt">[{=commentCnt}]</span></dt><dd class="pub_desc"><a target="_blank" class="article_desc _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=content}</a></dd><dd class="pub_info"><span class="pub_date">{=lastModified}</span> <a target="_blank" class="blog_name _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=blogName}</a></dd></dl></li>'}};BuddyConnect.List.Paging=$Class({_upObj:null,_nCurNo:1,elCurPage:null,$init:function(a){this._upObj=a;this.elCurPage=$$.getSingle("> p.paging > span.paging_now",this._upObj.getSubView())},setCurNo:function(a){this._nCurNo=a;this.elCurPage.innerHTML=a},getCurNo:function(){return this._nCurNo},goPage:function(a,b){this.setCurNo(a);this._updateTotalCnt(b);if(a==1){this._disablePreBtn()}else{this._enablePreBtn()}if(b!=a){this._enableNextBtn()}else{this._disableNextBtn()}},_updateTotalCnt:function(a){var b=$$.getSingle("> p.paging > span.paging_all",this._upObj.getSubView());b.innerHTML="/ "+a},_enablePreBtn:function(){var d=$$.getSingle("> p.paging > .pre_n",this._upObj.getSubView());if(!d){return}var b=d.parentNode;var a=$(BuddyConnect.List.Paging.template.pre);b.insertBefore(a,d);b.removeChild(d)},_disablePreBtn:function(){var d=$$.getSingle("> p.paging > .pre",this._upObj.getSubView());if(!d){return}var b=d.parentNode;var a=$(BuddyConnect.List.Paging.template.first);b.insertBefore(a,d);b.removeChild(d)},_enableNextBtn:function(){var d=$$.getSingle("> p.paging > .next_n",this._upObj.getSubView());if(!d){return}var a=d.parentNode;var b=$(BuddyConnect.List.Paging.template.next);a.insertBefore(b,d);a.removeChild(d)},_disableNextBtn:function(){var d=$$.getSingle("> p.paging > .next",this._upObj.getSubView());if(!d){return}var a=d.parentNode;var b=$(BuddyConnect.List.Paging.template.last);a.insertBefore(b,d);a.removeChild(d)}});BuddyConnect.List.Paging.template={first:'<a class="pre_n _returnFalse"><span>처음</span></a>',last:'<a class="next_n _returnFalse"><span>끝</span></a>',pre:'<a href="#" class="pre _returnFalse" href="#"><span>이전</span></a>',next:'<a href="#" class="next _returnFalse"><span>다음</span></a>'};var Utility=$Class({$init:function(){this.oAgent=$Agent().navigator();this.bSelectPrevent=false;this.wfStopEvent=$Fn(this._stopEvent,this)},getAgent:function(){return this.oAgent},getRandNumber:function(){return parseInt(Math.random((new Date()).getTime())*100000,10)},clearInputElDefaultTxt:function(a){if(a.value==a.defaultValue){a.value=""}},zoomIn:function(b,a,d){if(a=="undefined"){a=false}if(d=="undefined"){d=false}window.open("/common/util/imageZoom.jsp?url="+b+"&rClickYn="+a+"&isOwner="+d,"zoomIn","scrollbars=yes,width=10,height=10")},getRequestQueryString:function(d){var a=document.location.search.split("?");if(a!=null&&a!=""){aQuery=a[1].split("%26");nArrCount=aQuery.length;for(i=0;i<=nArrCount-1;i++){var b=aQuery[i].split("=");if(d==b[0]){return b[1]}}}},setTop:function(a){try{if(a){a.scrollTo(0,0)}else{window.scrollTo(0,0)}}catch(b){}},checkRClickYN:function(b,a){if(b&&!a){this._addBlockEvent()}},_stopEvent:function(a){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}if(a&&a.stopPropagation&&a.preventDefault){a.stopPropagation();a.preventDefault()}},_block:function(a){if(this.bSelectPrevent){return}this._stopEvent(a)},_addEvent:function(d,b,a){this.bSelectPrevent=false;if(window.addEventListener){d.addEventListener(b,a,false)}else{if(window.attachEvent){d.attachEvent("on"+b,a)}}},_addBlockEvent:function(){this._addEvent(document,"dragstart",$Fn(this._block,this).bind());this._addEvent(document,"selectstart",$Fn(this._block,this).bind());this._addEvent(document,"contextmenu",$Fn(this._block,this).bind());if(document.body&&document.body.style.MozUserSelect!=undefined){document.body.style.MozUserSelect="none"}},clickPrevent:function(){if(this.checkLayoutPreview()){oCurtain.showCurtain()}return false},actOnUnload:function(){if(this.checkPostPreview()){try{window.opener.editor.setUnloadWarn(true)}catch(a){}}},checkLayoutPreview:function(){return document.location.href.indexOf("Redirect=Preview")>-1},checkPostPreview:function(){return document.location.href.indexOf("PostPreview.nhn")>-1},writelcs:function(a){document.createElement("img").src="http://lcs.naver.com/i{"+a+"}"},writeNewLcs:function(d,b,f,g,e){if(this.isChkNull(f)||typeof(b)=="undefined"){g=false}if(this.isChkNull(b)||this.isChkNull(f)||typeof(b)=="undefined"||typeof(f)=="undefined"){lcs_do_gdid(d,"",g,e)}else{var a={};a[b]=f;lcs_do_gdid(d,a,g,e)}},writeNewLcsNonGdid:function(b,e,f,d){if(this.isChkNull(e)||typeof(b)=="undefined"){f=false}if(this.isChkNull(b)||this.isChkNull(e)||typeof(b)=="undefined"||typeof(e)=="undefined"){lcs_do("",f,d)}else{var a={};a[b]=e;lcs_do(a,f,d)}},sendGnbGlobalSession:function(){document.createElement("img").src="http://gn.naver.com/index.html?tmpl=10000"},resizeIfr:function(a,b){this.resizeIfrWithMargin(a,b,50)},resizeIfrWithMargin:function(e,k,j){var f,g,b,a;f=k||10;try{g=e.contentWindow.document}catch(d){return}if(g.location.href=="about:blank"){e.style.height=f+"px";return}if(this.oAgent.ie&&this.oAgent.version<8){b=g.body.scrollHeight}else{a=g.body.appendChild($("<DIV>"));a.style.clear="both";b=a.offsetTop;a.parentNode.removeChild(a)}if(b<f){b=f}e.height=b+j;e.style.height=b+j+"px";f=g=b=a=null},wordBreak:function(a){if(this.oAgent.ie&&!(this.oAgent.version!=6||this.oAgent.version!=7)){a=a.replace(/./g,function(b){return b+"&#x200B;"})}return a},trim:function(a){if(a&&a!=""){a=a.replace(/(^\s*)|(\s*$)/g,"")}return a||""},removeSpace:function(a){if(a&&a!=""){a=a.replace(/\s/g,"")}return a||""},isChkNull:function(d){var b=false;var a=this.trim(d);if(a==null||a==""){b=true}return b},isNotFilled:function(a){if(a.value==a.defaultValue||this.isBlank(a.value)){return true}return(a.value=="")},isBlank:function(a){if(a.match(/^\s*$/)){return true}return false},isBlankTextArea:function(a){if(a.value==a.defaultValue){return true}return this.isBlankHTML(a.value)},isBlankHTML:function(a){if(a.replace(/<(?!table|img|div|embed|iframe|object)[^>]*>|&nbsp;|\s*/gi,"")){return false}else{return true}},stripTags:function(a){return a.replace(/<\/?[^>]+>/gi,"")},unescapeUnicode:function(unicodes){var regExp=/&#([0-9]+);/gi;var doubleQuote='"';var quotedUnicodes=doubleQuote+unicodes.replace(/\"/gi,"&#34;")+doubleQuote;var lazyTranslated=quotedUnicodes.replace(regExp,doubleQuote+' + String.fromCharCode("$1") + '+doubleQuote);return eval(lazyTranslated)},toText2HTMLWitoutAmp:function(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/%22/g,"&quot;").replace(/%27/g,"'")},toText2HTML:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/%22/g,"&quot;").replace(/%27/g,"'")},toHTML2TextWitoutAmp:function(b){var a=b;a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">");a=a.replace(/&#039;/g,"'");a=a.replace(/&#034;/g,'"');a=a.replace(/&quot;/g,'"');return a},toHTML2Text:function(a){return a.replace(/&amp;/g,"&").replace(/&#([0-9]{1,7});/g,function(e,d){var b="";if(d<=65535){b+=String.fromCharCode(d)}else{if(d<=1114111){d-=65536;b+=String.fromCharCode(55296|(n>>10))+String.fromCharCode(56320|(d&1023))}}return b}).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#039;/g,"'").replace(/&#034;/g,'"').replace(/&quot;/g,'"')},bytes:function(d,h){var f=0,b=0,e=0,a=d.length;var j=((document.charset||document.characterSet||document.defaultCharset)+"").toLowerCase();var g=(typeof h=="number");if(j=="utf-8"){for(e=0;e<a;e++){f=d.charCodeAt(e);if(f<128){b+=1}else{if(f<2048){b+=2}else{if(f<65536){b+=3}else{b+=4}}}if(g&&b>h){d=d.substr(0,e);break}}}else{for(e=0;e<a;e++){b+=(d.charCodeAt(e)>128)?2:1;if(g&&b>h){d=d.substr(0,e);break}}}return g?d:b},truncate:function(e,b,h){if(!e||b<4){return e}var g=e;var a=g.length;var f=0;var d=0;while(d<a&&f<b){if(g.charCodeAt(d++)<256){f++}else{if(f<b-3){f+=2}else{break}}}if(d<a){g=g.substring(0,d)+h}return g},getParam:function(a){if(a){var d=/_param\((.*)\)/;var b=a.match(d);if(b&&b[0]&&b[1]){return b[1].split("|")}}return null},getElement:function(d,b,a){if(typeof d.tagName=="undefined"){return d}if(typeof a=="undefined"){if(d.tagName.toLowerCase()==b){return d}else{return $$.getSingle("!"+b,d)}}else{if(d.tagName.toLowerCase()==b&&$Element(d).hasClass(a)){return d}else{return $$.getSingle("!"+b+"."+a,d)}}},leave:function(a){return a.parentNode.removeChild(a)},openHelpWin:function(b,a,d){window.open(b,d?d:"editor_help",a?a:"width=790,height=540")},winOpenCenter:function(a,b,d,k,g,h){var e=Math.round((screen.availLeft||0)+(screen.availWidth-d)*0.5);var j=Math.round((screen.availTop||0)+(screen.availHeight-k)*0.5);var l="top="+j+",left="+e+",width="+d+",height="+k;var g=g||"scrollbars=no,status=yes";l+=(g.indexOf(0)!=","?",":"")+g;h=h||window;var f=h.open(a,b,l);if(f){setTimeout(function(){f.focus()},100)}return f},showLayer:function(d,g,j,l,f){var b,a,k,h,e;k=$Element(g);h=$Element(d);b=h.offset().top+h.height();a=h.offset().left+l;if(j!==undefined&&!isNaN(j)){b+=j}e=l||16;var m={top:b+"px"};(f=="direct")?m.left=a+"px":m.right=e+"px";k.css(m).show()},closeLayer:function(b){var a=$Element($(b));if(a){a.hide()}a=null},resizeImage:function(a){this.resizeImg($("userImg"+a))},resizeImageWithId:function(a){this.resizeImg($(a))},resizeImg:function(a){var e=$Element($(a));if(!e){return}var b,d;b=parseInt(e.width(),10)||100;d=imageWidth==""?550:parseInt(imageWidth,10);if(b>d){e.width(d)}b=d=null},sizeToContent:function(){var a=100;setTimeout(utility.doSizeToContent,a)},doSizeToContent:function(){var a,d,b;a=$Document(document);d=a.clientSize();b=a.scrollSize();self.resizeBy(b.width-d.width,b.height-d.height);a=d=b=null},decodeURIComponentForJava:function(a){var b=decodeURIComponent(a.replace(/\+/g,"%20"));return b.replace(/\$/g,"&#0036;")},_curtain:null,createCurtain:function(e){var d=this,g=$("<div>");var e=$(e);var f=$$("selectbox",document.body);for(var b=0,a=f.length;b<a;b++){f[b].style.visibility="hidden"}if(d._curtain){return}if(e){$Element(e).css("zIndex",1001)}$Element(g).css({backgroundColor:"white",position:"absolute",top:0,left:0,opacity:0.5,filter:"Alpha(Opacity=50)",width:document.body.scrollWidth+"px",height:document.body.scrollHeight+"px",zIndex:1000});document.body.appendChild(g);$Fn(utility.wfStopEvent,this).attach(g,"mousedown");d._curtain=g},removeCurtain:function(){var d=this;if(d._curtain){d._curtain.parentNode.removeChild(d._curtain);d._curtain=null}var e=$$("selectbox",document.body);for(var b=0,a=e.length;b<a;b++){e[b].style.visibility=""}},replaceAll:function(b,e,d){var a="";if(this.trim(b)!=""&&e!=d){a=this.trim(b);while(a.indexOf(e)>-1){a=a.replace(e,d)}}return a},replaceLast:function(d,f,e){var b="";if(this.trim(d)!=""&&f!=e){b=this.trim(d);if(b.indexOf(f)>-1){var a=b.lastIndexOf(f);b=b.substring(0,a)+e}}return b},ellipsis:function(d,j,o){var f,b,k,h,g,e,l,a;g=false;d=$(d);a=$Element(d);o=o||"...";j=parseInt(j,10)||50;f=a.text();f=f.replace(/&nbsp;/ig," ");f=$S(f).unescapeHTML().toString();a.text(o);b=a.width();k=a.height();j=j-b;a.text(f);if(a.width()>=j||a.height()>k){for(var m=2,l=f.length;m<=l;m++){h=f.substring(0,m);a.text(h);if(a.height()>k||a.width()>=j){if(m!=l){a.text(f.substring(0,m-1)+o);g=true;break}else{a.text(h);break}}}}f=b=h=k=m=l=null;return g},ellipsisPage:function(g){var e,f,h,b;g=$(g)||document.body;e=$$("._ellipsis",g);for(var a=0,d=e.length;a<d;a++){f=e[a];h=this.getParam(f.className);b=$Element(f).text();if(h==null){h=105}if(this.ellipsis(f,h[1]||h[0])){f.title=b}}e=f=h=b=null},gotoTag:function(a){a=$(a);if(a&&this.isParentExist()){if(self.parent!=self){self.scrollTo(self.parent.scrollX,$Element(a).offset().top+$Element(self.frameElement).offset().top)}else{a.scrollIntoView()}}},isParentExist:function(){try{if(!parent||!parent.document||typeof parent=="undefined"){return false}}catch(a){return false}return true},centerLayer:function(f,a){var g=$Document(a).clientSize();var d=$Document(a).scrollPosition();var b=g.height/2-f.offsetHeight/2+d.top;var e=g.width/2-f.offsetWidth/2+d.left;$Element(f).css({top:(b>0?b:0)+"px",left:(e>0?e:0)+"px"})},changeLayerToFixedPosition:function(d,a,b){if(a==null||b==null){return}$Element(d).css({top:(a>0?a:0)+"px",left:(b>0?b:0)+"px"})},positionLayer:function(d,l,o){var e,g,m,b,f,j,a,k,h;o=o||{};j=o.sTargetPos||"tr";a=o.sLayerPos||"tr";k=parseInt(o.nDiffTop,10)||0;h=parseInt(o.nDiffLeft,10)||0;e=$(d);g=$(l);m=$Element(e).offset();b=this.getSize(e);f=this.getSize(g);switch(j){case"tr":nTop=m.top;nLeft=m.left+b.width;break;case"bl":nTop=m.top+b.height;nLeft=m.left;break;case"br":nTop=m.top+b.height;nLeft=m.left+b.width;break;default:nTop=m.top;nLeft=m.left;break}switch(a){case"tr":nLeft-=f.width;break;case"bl":nTop+=f.height;break;case"br":nTop+=f.height;nLeft+=f.width;break;default:break}$Element(g).css({top:(nTop+k)+"px",left:(nLeft+h)+"px"});e=g=m=b=f=j=a=k=h=null},getSize:function(a){return{width:a.offsetWidth,height:a.offsetHeight}},arrays2JsonStr:function(e,a){var f=[];for(var b=0;b<a[0].length;b++){var g=[];for(var d=0;d<a.length;d++){g[g.length]="'"+e[d]+"':'"+a[d][b]+"'"}f[f.length]="{"+g.join(",")+"}"}return"["+f.join(",")+"]"},goBlog:function(e,b,d,f,g){var a="/DomainDispatcher.nhn?blogId="+e+"&id="+b+"&type="+d+"&subName="+f;window.open(a,g,"")},goPermalink:function(f,d,e,g,h,a){var b="/DomainDispatcher.nhn?blogId="+f+"&id="+d+"&type="+e+"&subName="+g+"&logNo="+a;window.open(b,h,"")},bookmarksite:function(d,a){if(this.oAgent.firefox){window.sidebar.addPanel(d,a,"")}else{if(this.oAgent.opera){var b=document.createElement("a");b.setAttribute("href",a);b.setAttribute("title",d);b.setAttribute("rel","sidebar");b.click()}else{if(this.oAgent.ie){window.external.AddFavorite(a,d)}else{return true}}}},nvl_error:function(d,b,a){if(isJeagleDebug){if(typeof d=="object"&typeof d.description=="string"){d=d+" : "+d.description}if(!b){b=document.location}if(!a){a=0}JEagleEyeClient.sendError(d,b,a)}else{return}},getJsonData:function(b){var d=null;try{d=new Function("","return "+b+";")()}catch(a){}return d},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},isNotValidId:function(a){var b=/^[\uac00-\ud7a30\u3130-\u318f0-9a-zA-Z\s]*$/g;return !b.test(a)}});var Curtain=$Class({_elCurtain:null,$init:function(){this._setEvent()},_setEvent:function(){this.wfResizeCurtain=$Fn(this.resizeCurtain,this).bindForEvent()},_createCurtain:function(){if(!this._elCurtain){var a=$("<div>");$Element(a).css({backgroundColor:"white",position:"absolute",top:0,left:0,zIndex:1000});document.body.appendChild(a);$Fn(function(b){b.stop()},this).attach(a,"click");this._elCurtain=a}return this._elCurtain},showCurtain:function(e,b,d){var a=$Agent().navigator();var e=$(e);var b=b||0;if(a.ie&&a.version==6){this.hideSelectbox(true)}$Element(this.getEl()).css({opacity:b,filter:b!=0?"Alpha(Opacity="+b*100+")":"Alpha(Opacity=0)",backgroundColor:typeof d=="string"?d:"#FFF"});this.resizeCurtain();$Element(this.getEl()).show();if(e){$Element(e).css("zIndex",1001)}this.attachEvent()},attachEvent:function(){$Fn(this.wfResizeCurtain,this).attach(window,"resize")},detachEvent:function(){$Fn(this.wfResizeCurtain,this).detach(window,"resize")},resizeCurtain:function(){var a=$Document().scrollSize();$Element(this.getEl()).css({width:a.width+"px",height:a.height+"px"})},hideCurtain:function(){$Element(this.getEl()).hide();var a=$Agent().navigator();if(a.ie&&a.version==6){this.hideSelectbox(false)}this.detachEvent()},hideSelectbox:function(a){$A(document.getElementsByTagName("selectbox")).forEach(function(b){b.style.visibility=a?"hidden":""})},getEl:function(){return this._createCurtain()}});var Penalty=$Class({$init:function(){if(typeof isWritingBlocked!="undefined"){this.writingBlocked=isWritingBlocked;this.writingBlockedBySpamIP=isWritingBlockedBySpamIP;this.writingBlockedBySpamIPManually=isWritingBlockedBySpamIPManually;this.initializingBlog=isInitializingBlog;this.WRITE_BLOCKED="죄송합니다. 블로그 서비스 내 글쓰기가 제한된 상태입니다.";this.WRITE_BLOCKED_BY_SPAMIP="죄송합니다. 해당 IP의 블로그 서비스 내 글쓰기가 제한된 상태입니다."}},isBlocked:function(){return this.writingBlocked||this.writingBlockedBySpamIP||this.writingBlockedBySpamIPManually},isWritingBlockedBySpamIP:function(){return this.writingBlockedBySpamIP},isWritingBlockedBySpamIPManually:function(){return this.writingBlockedBySpamIPManually},isWritingBlocked:function(){return this.writingBlocked},isInitializingBlog:function(){return this.initializingBlog},showMessage:function(a){if(this.writingBlockedBySpamIPManually){alert(this.WRITE_BLOCKED_BY_SPAMIP)}else{if(this.writingBlockedBySpamIP){alert(this.WRITE_BLOCKED_BY_SPAMIP)}else{if(this.writingBlocked||this.initializingBlog){alert(this.WRITE_BLOCKED)}}}if(a){a.blur()}}});var CaptchaObject=$Class({openLayeredCaptchaForPostWrite:function(d,e,a){var f=$("captcha_layer");var b=$Element(f);if(!b){return}b.show();$("captchalayeredframe").src=d;if(e==true){utility.changeLayerToFixedPosition(f,a.top,a.left)}else{utility.centerLayer(f,document)}oCurtain.showCurtain(f,0.1,"#000")},openLayeredCaptcha:function(d,e,a){var f=parent.$("captcha_layer");var b=$Element(f);if(!b){return}b.show();parent.$("captchalayeredframe").src=d;if(e==true){utility.changeLayerToFixedPosition(f,a.top,a.left)}else{utility.centerLayer(f,parent.document)}parent.oCurtain.showCurtain(f,0.1,"#000")},closeLayeredCaptcha:function(){parent.oCurtain.hideCurtain();$Element(parent.$("captcha_layer")).hide();parent.$("captchalayeredframe").src=""},validateFormAfterOpenCaptchaLayer:function(a){parent.$("target").value="CommentFrm"+a;this.openLayeredCaptcha("/CommentWriteCaptchaLayerOpen.nhn?blogId="+blogId,false)}});var captchaObj=new CaptchaObject();var WriteLimitObject=$Class({openLayeredWriteLimit:function(d,b,a){var e=null;if(d=="day"){e=parent.$("day_write_limit_layer")}else{if(d=="reported"){e=parent.$("reported_write_limit_layer")}}document.body.focus();if(!e){return}$Element(e).show();if(b==true){utility.changeLayerToFixedPosition(e,a.top,a.left)}else{utility.centerLayer(e,parent.document)}parent.oCurtain.showCurtain(e,0.1,"#000")},closeLayeredWriteLimit:function(a){oCurtain.hideCurtain();if(a=="day"){elLayeredWriteLimitLayer=$("day_write_limit_layer")}else{if(a=="reported"){elLayeredWriteLimitLayer=$("reported_write_limit_layer")}}$Element(elLayeredWriteLimitLayer).hide()}});var writeLimitObj=new WriteLimitObject();var LoginObject=$Class({login:false,$init:function(){},setIsLogin:function(a){this.login=a},getIsLogin:function(){return this.login},isLogin:function(d,b){var a="/isLogin.nhn";new $Ajax(a,{method:"get",onerror:function(){},onload:$Fn(function(e){var e=e.text();if(e=="LOGOUT"){this.setIsLogin(false)}else{if(e=="LOGIN"){this.setIsLogin(true)}}this.loginProc(d,b);e=null},this).bind()}).request()},loginProc:function(b,a){if(this.getIsLogin()){if(typeof b=="function"){b()}}else{if(typeof a=="function"){a()}}},openLayeredLogin:function(){var a=$("loginstart_layer");if(!a){return}$Element(a).show();$("layeredframe").src=idURLSecret+"/nidlogin.login?mode=form&svctype=40960&id="+userId+"&url="+blogURL+"/common/checklogin/closeLayeredLogin.html";utility.centerLayer(a);oCurtain.showCurtain(a,0.1,"#000")},closeLayeredLogin:function(){oCurtain.hideCurtain();$Element($("loginstart_layer")).hide();$("layeredframe").src=""},popUpLogin:function(b){var b=!!b?b:blogURL+"/post/common/simpleReloadOpenerAndClose.jsp";if(b=="self reload"){b=blogURL+"/post/common/simpleReloadOpenerAndClose.jsp"}else{if(b=="parent reload"){b=blogURL+"/post/common/reloadOpenerParentAndClose.jsp"}else{if(b=="top reload"){b=blogURL+"/post/common/reloadOpenerTopAndClose.jsp"}else{if(b=="self replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=self"}else{if(b=="parent replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=parent"}else{if(b=="top replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=top"}}}}}}var a=idURLSecret+"/nidlogin.login?template=plogin&mode=form&url="+encodeURIComponent(b);open(a,"PopUpLogin","width=205,height=208")},forwardLoginPage:function(a){var a=!!a?a:location.href;location.href=idURLSecret+"/nidlogin.login?mode=form&url="+encodeURIComponent(a)}});var Monitoring=$Class({bAlreadyRequest:false,blogId:"",serviceLog:"",punishType:"",punishTargetNo:"",highestPunishType:"",releaseRequest:function(b,f,e,a,d){this.blogId=b;this.serviceLog=f;this.punishType=e;this.punishTargetNo=a;this.highestPunishType=d;this._checkAlreadyRequested(b,e,a)},_checkAlreadyRequested:function(b,f,a){try{new $Ajax("/ReleaseRequestCheckAsync.nhn?blogId="+b+"&punishType="+f+"&punishTargetNo="+a,{method:"get",onerror:function(){},onload:$Fn(this._onResponse,this).bind()}).request()}catch(d){utility.nvl_error(d,blogURL+"/nblog_common.js/Monitoring/checkAlreadyRequested ",d.lineNumber);throw d}},_onResponse:function(d){if(d.text()=="true"){alert("이미 접수하신 제한 해제 요청이 검토 중입니다.\n최대한 빠른 시간 내에 요청 내용을 검토한 후 그 결과를 메일로 안내해드리겠습니다.");return}var b,e,a;b="/global/main/releaseRequest.jsp?blogId="+this.blogId+"&serviceLog="+this.serviceLog+"&punishType="+this.punishType+"&punishTargetNo="+this.punishTargetNo+"&highestPunishType="+this.highestPunishType;e="width=347,height=250,scrollbars=no";a="brequest";utility.openHelpWin(b,e,a);b=e=a=null},monitorToggle:function(a,d){var b=$Element($(a));var e=$(d);if(b.visible()){e.innerHTML="자세히 보기";b.removeClass("close");b.hide()}else{e.innerHTML="그만보기";b.addClass("close");b.show()}b=e=null},blockContentToggle:function(e,b){var a=$Element($(e));var d=$(b);if(a.visible()){d.innerHTML="내용열기";a.removeClass("close");a.hide()}else{d.innerHTML="내용닫기";a.addClass("close");a.show()}a=d=null},monitorToggleNew:function(a,d){var b=$Element($(a));var e=$(d);if(b.visible()){e.innerHTML="자세히 보기";b.parent().addClass("appr_rst_cl");b.hide()}else{e.innerHTML="접기";b.parent().removeClass("appr_rst_cl");b.show()}b=e=null}});var setSlidePhoto2View=function(g,d,b,a,e){var f=[];f.push('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+b+'" height="'+a+'" id="motionPhoto" align="middle">');f.push('<param name="allowScriptAccess" value="always" />');f.push('<param name="FlashVars" value="" />');f.push('<param name="movie" value="http://blog.naver.com/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+g+"&w="+b+"&h="+a+"&f="+e+"&s="+d);f.push('" />');f.push('<param name="quality" value="high" />');f.push('<param name="bgcolor" value="#ffffff" />');f.push('<param name="wmode" value="transparent" />');f.push('<embed wmode="transparent" src="http://blog.naver.com/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+g+"&w="+b+"&h="+a+"&f="+e+"&s="+d+'" quality="high" bgcolor="#ffffff"');f.push('width="'+b+'" height="'+a+'" name="motionPhoto" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" autostart="true"/></object>');document.write(f.join(""))};var setSlidePhoto2Preview=function(g,d,b,a,e){var f=[];f.push('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+b+'" height="'+a+'" id="motionPhoto" align="middle">');f.push('<param name="allowScriptAccess" value="always" />');f.push('<param name="FlashVars" value="" />');f.push('<param name="movie" value="/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+g+"&w="+b+"&h="+a+"&f="+e+"&s="+d);f.push('" />');f.push('<param name="quality" value="high" />');f.push('<param name="bgcolor" value="#ffffff" />');f.push('<param name="wmode" value="transparent" />');f.push('<embed wmode="transparent" src="/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+g+"&w="+b+"&h="+a+"&f="+e+"&s="+d+'" quality="high" bgcolor="#ffffff"');f.push('width="'+b+'" height="'+a+'" name="motionPhoto" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" autostart="true"/></object></div>');$("previewArea").innerHTML=f.join("")};var SimpleTimer=$Class({$init:function(d,b,a){this.callback=d;this.frequency=b;this.currentlyExecuting=false;this._oParam=a;this._registerCallback()},_registerCallback:function(){this.timer=setInterval($Fn(this.onTimerEvent,this).bind(),this.frequency*1000)},execute:function(){this.callback(this,this._oParam)},stop:function(){if(!this.timer){return}clearInterval(this.timer);this.timer=null},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.execute()}finally{this.currentlyExecuting=false}}}});var utility=new Utility();var resizeImage=$Fn(utility.resizeImage,this).bind();var resizeImg=$Fn(utility.resizeImg,this).bind();var goBlog=$Fn(utility.goBlog,this).bind();var goPermalink=$Fn(utility.goPermalink,this).bind();var oCurtain=new Curtain();var penalty=new Penalty();var loginObj=new LoginObject();var oMonitoring=new Monitoring();var detect=navigator.userAgent.toLowerCase();var isSafari=(detect.indexOf("safari")!=-1?true:false);var isOpera=(detect.indexOf("opera")!=-1?true:false);var max_depth=4;var server="cc.naver.com";var module="cc";if(!nsc){var nsc="shopping.main"}function clickcr(t,G,k,F,v){var f,a,z,D,q;var C="";var d=window.event?window.event:v;var A=sy=px=py=-1;var l,g,E;var u,p;var B,r,m,s;var I;try{s=xWindowSize(window);E=checkIframe(t);if(E){var h=findPos(document.getElementById(E));if(d.clientX&&d.clientX!="undefined"){l=document.body;if(l.clientLeft&&l.clientTop){ifrSx=d.clientX-l.clientLeft;ifrSy=d.clientY-l.clientTop}else{ifrSx=d.clientX;ifrSy=d.clientY}}px=h[0]+ifrSx;py=h[1]+ifrSy;if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){l=document.body;A=px-l.scrollLeft;sy=py-l.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){g=document.documentElement;A=px-g.scrollLeft;sy=py-g.scrollTop}else{A=px;sy=py}}}else{if(d.clientX&&d.clientX!="undefined"){l=document.body;if(l.clientLeft&&l.clientTop){A=d.clientX-l.clientLeft;sy=d.clientY-l.clientTop}else{A=d.clientX;sy=d.clientY}}if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){px=document.body.scrollLeft+(A<0?0:A);py=document.body.scrollTop+(sy<0?0:sy)}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){g=document.documentElement;if(g.scrollLeft!="undefined"){px=g.scrollLeft+(A<0?0:A)}if(g.scrollTop!="undefined"){py=g.scrollTop+(sy<0?0:sy)}}else{px=(A<0?0:A);py=(sy<0?0:sy)}}if(d.pageX){px=d.pageX}if(d.pageY){py=d.pageY}}}catch(H){}if(G!=""){q=G.split(".");C=q[0]+"."+q[1]}else{r=t.parentNode;m=r.parentNode;a=getparent(t);if(a==null){return false}f=getparent(a);if(f==null){return false}C=f.id+"."+a.id}if(t.href){if((t.target&&t.target!="_self")||(t.href.toLowerCase().indexOf("javascript:")!=-1)||t.getAttribute("href",2).charAt(0)=="#"||(t.href.indexOf("#")!=-1&&(t.href.substr(0,t.href.indexOf("#"))==document.URL))){u=0}else{u=1}}else{u=0}if(t.href){if(t.href.indexOf("http://"+server)==0){p=t.href}else{p="http://"+server+"/"+module+"?a="+C+"&r="+F+"&i="+k+"&nsc="+nsc+"&w="+s+"&px="+px+"&py="+py+"&sx="+A+"&sy="+sy+"&m="+u+"&u="+encodeURIComponent(t.href)}}else{p="http://"+server+"/"+module+"?a="+C+"&r="+F+"&i="+k+"&nsc="+nsc+"&w="+s+"&px="+px+"&py="+py+"&sx="+A+"&sy="+sy+"&m="+u+"&u=''"}if(u==1){I=t.innerHTML;t.href=p;if(t.innerHTML!=I){t.innerHTML=I;t.innerHTML=I}}else{if(document.images){var j=new Date().getTime();p+="&time="+j;if(isSafari&&!t.href){var J=c=new Date();while((J.getTime()-c.getTime())<100){J=new Date()}(new Image()).src=p}else{(new Image()).src=p}}}return true}function getparent(b){var a=b.parentNode;var d=0;while(1){if(a.id!=null&&a.id!=""){return a}else{d++;a=a.parentNode}if(d>=max_depth){return null}}}function xWindowSize(d){if(!d){d=window}var a=0;if(d.innerWidth){a=d.innerWidth;if(typeof(d.innerWidth)=="number"){var b=getScrollBarWidth();a=d.innerWidth-b}}else{if(document.documentElement&&document.documentElement.clientWidth){a=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){a=document.body.clientWidth}}}return a}function getScrollBarWidth(){var d=document.createElement("p");d.style.width="200px";d.style.height="200px";var e=document.createElement("div");e.style.position="absolute";e.style.top="0px";e.style.left="0px";e.style.visibility="hidden";e.style.width="200px";e.style.height="150px";e.style.overflow="hidden";e.appendChild(d);document.body.appendChild(e);var b=d.offsetWidth;e.style.overflow="scroll";var a=d.offsetWidth;if(b==a){a=e.clientWidth}document.body.removeChild(e);return(b-a)}function findPos(a){var b=curtop=0;if(a.offsetParent){do{b+=a.offsetLeft;curtop+=a.offsetTop}while(a=a.offsetParent)}else{if(a.x||a.y){if(a.x){b+=a.x}if(a.y){curtop+=a.y}}}return[b,curtop]}function checkIframe(f){var d=document.URL;var e=f.parentNode;var a;var b;while(1){if(e.nodeName.toLowerCase()=="#document"){if(e.parentWindow){a=e.parentWindow}else{a=e.defaultView}if(a.frameElement!=null&&a.frameElement!="undefined"){if(a.frameElement.nodeName.toLowerCase()=="iframe"){b=a.frameElement.id;if(!b){return false}return b}else{return false}}else{return false}}else{e=e.parentNode;if(e==null||e=="undefined"){return false}}}}if(typeof(window.defineNHNJS)=="undefined"){window.defineNHNJS={}}window.defineNHNJS["BuddyConnectWidget-435631_js"]=true;